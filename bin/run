#! /usr/bin/env bash

# DOC: Run a command at a path. Usage: bin/run <path/to/command> --tag=<image tag>
# Optional params:
#   --config=<config_file> to override config file
#   --infra_commit=<commit_sha> to override infrastructure version. 
#     Needs to be a valid commit from https://github.com/civiform/civiform.

source bin/lib.sh
source ${CONFIG_FILE}

readonly command_path="${1}"
shift 1

CMD_NAME_PATH="${command_path}" checkout::exec_delegated_command_at_path "$@"
